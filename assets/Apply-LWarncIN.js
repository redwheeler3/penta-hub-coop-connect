import{c as A,r as a,j as e,a as E,P as R,b as K,d as V,u as W,e as $,f as F,g as z,h as G,i as X,L as Y}from"./index-CRjcVDoP.js";import{N as Z,C as Q,a as ee,b as te,c as re,d as se,B as _,u as ne}from"./Navigation-DtwIutRy.js";import{u as ae}from"./usePageTitle-CP-JwawK.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=A("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=A("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=A("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),D=a.forwardRef(({className:t,type:s,...r},c)=>e.jsx("input",{type:s,className:E("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:c,...r}));D.displayName="Input";var le="Label",B=a.forwardRef((t,s)=>e.jsx(R.label,{...t,ref:s,onMouseDown:r=>{var d;r.target.closest("button, input, select, textarea")||((d=t.onMouseDown)==null||d.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));B.displayName=le;var O=B;const de=K("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),y=a.forwardRef(({className:t,...s},r)=>e.jsx(O,{ref:r,className:E(de(),t),...s}));y.displayName=O.displayName;function me(t){const s=a.useRef({value:t,previous:t});return a.useMemo(()=>(s.current.value!==t&&(s.current.previous=s.current.value,s.current.value=t),s.current.previous),[t])}var L="Checkbox",[ue,je]=V(L),[xe,he]=ue(L),T=a.forwardRef((t,s)=>{const{__scopeCheckbox:r,name:c,checked:d,defaultChecked:l,required:u,disabled:x,value:o="on",onCheckedChange:f,...P}=t,[m,j]=a.useState(null),C=W(s,n=>j(n)),p=a.useRef(!1),w=m?!!m.closest("form"):!0,[h=!1,N]=$({prop:d,defaultProp:l,onChange:f}),I=a.useRef(h);return a.useEffect(()=>{const n=m==null?void 0:m.form;if(n){const i=()=>N(I.current);return n.addEventListener("reset",i),()=>n.removeEventListener("reset",i)}},[m,N]),e.jsxs(xe,{scope:r,state:h,disabled:x,children:[e.jsx(R.button,{type:"button",role:"checkbox","aria-checked":b(h)?"mixed":h,"aria-required":u,"data-state":H(h),"data-disabled":x?"":void 0,disabled:x,value:o,...P,ref:C,onKeyDown:F(t.onKeyDown,n=>{n.key==="Enter"&&n.preventDefault()}),onClick:F(t.onClick,n=>{N(i=>b(i)?!0:!i),w&&(p.current=n.isPropagationStopped(),p.current||n.stopPropagation())})}),w&&e.jsx(fe,{control:m,bubbles:!p.current,name:c,value:o,checked:h,required:u,disabled:x,style:{transform:"translateX(-100%)"}})]})});T.displayName=L;var U="CheckboxIndicator",q=a.forwardRef((t,s)=>{const{__scopeCheckbox:r,forceMount:c,...d}=t,l=he(U,r);return e.jsx(z,{present:c||b(l.state)||l.state===!0,children:e.jsx(R.span,{"data-state":H(l.state),"data-disabled":l.disabled?"":void 0,...d,ref:s,style:{pointerEvents:"none",...t.style}})})});q.displayName=U;var fe=t=>{const{control:s,checked:r,bubbles:c=!0,...d}=t,l=a.useRef(null),u=me(r),x=G(s);return a.useEffect(()=>{const o=l.current,f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(u!==r&&m){const j=new Event("click",{bubbles:c});o.indeterminate=b(r),m.call(o,b(r)?!1:r),o.dispatchEvent(j)}},[u,r,c]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:b(r)?!1:r,...d,tabIndex:-1,ref:l,style:{...t.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function b(t){return t==="indeterminate"}function H(t){return b(t)?"indeterminate":t?"checked":"unchecked"}var J=T,be=q;const S=a.forwardRef(({className:t,...s},r)=>e.jsx(J,{ref:r,className:E("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...s,children:e.jsx(be,{className:E("flex items-center justify-center text-current"),children:e.jsx(oe,{className:"h-4 w-4"})})}));S.displayName=J.displayName;const pe=({email:t,setEmail:s,bedroomPreferences:r,handleBedroomChange:c,handleEmailSubmit:d,isSubmitting:l,setFormStarted:u,trackFormStart:x})=>e.jsxs("form",{onSubmit:d,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(y,{htmlFor:"email",children:"Email Address"}),e.jsx(D,{id:"email",type:"email",value:t,onChange:o=>s(o.target.value),placeholder:"your.email@example.com",required:!0,onFocus:()=>{u(!0),x("Email Signup")}})]}),e.jsxs("div",{children:[e.jsx(y,{children:"Unit Preference"}),e.jsxs("div",{className:"space-y-2 mt-2",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(S,{id:"1-bedroom",checked:r.includes("1-bedroom"),onCheckedChange:o=>c("1-bedroom",o)}),e.jsx(y,{htmlFor:"1-bedroom",className:"font-normal",children:"1 bedroom - 1 or 2 adults"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(S,{id:"2-bedroom",checked:r.includes("2-bedroom"),onCheckedChange:o=>c("2-bedroom",o)}),e.jsx(y,{htmlFor:"2-bedroom",className:"font-normal",children:"2 bedroom - 1 or 2 adults PLUS 1 or more children under 18"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(S,{id:"3-bedroom",checked:r.includes("3-bedroom"),onCheckedChange:o=>c("3-bedroom",o)}),e.jsx(y,{htmlFor:"3-bedroom",className:"font-normal",children:"3 bedroom - 1 or 2 adults PLUS 2 or more children under 18"})]})]})]}),e.jsx("div",{className:"text-center pt-2",children:e.jsxs(_,{type:"submit",disabled:l,className:"bg-orange-500 hover:bg-orange-600 text-lg px-8 py-3",children:[e.jsx(ce,{className:"h-5 w-5 mr-2"}),l?"Subscribing...":"Subscribe for Updates"]})})]}),Ne=()=>{ae("Apply - Penta Housing Co-Op");const[t,s]=a.useState(""),[r,c]=a.useState([]),[d,l]=a.useState(!1),[u,x]=a.useState(!1),o=a.useRef(!1),{toast:f}=X(),{trackCTA:P,trackFormStart:m,trackFormSubmit:j,trackFormError:C,trackFormAbandonment:p,trackEvent:w}=ne();a.useEffect(()=>{const n=()=>{u&&t&&!d&&p("Email Signup")};return window.addEventListener("beforeunload",n),()=>window.removeEventListener("beforeunload",n)},[u,t,d,p]);const h=n=>{w("internal_navigation",{destination:n,button_location:"Application Process Section"})},N=async n=>{if(n.preventDefault(),!o.current){if(!t||r.length===0){f({title:"Missing Information",description:"Please fill in both email and bedroom preferences",variant:"destructive"}),C("Email Signup","Missing Information");return}o.current=!0,l(!0);try{j("Email Signup");const i=document.createElement("form");i.action="https://docs.google.com/forms/d/e/1FAIpQLSfvce57NjEBBI7qx3l7eYCsjAy3j4yMqZVnjbclGOfZ9uDFIw/formResponse",i.method="POST",i.target="hidden_iframe",i.style.display="none";const k=document.createElement("input");k.name="emailAddress",k.value=t,i.appendChild(k),r.forEach(M=>{const v=document.createElement("input");switch(v.name="entry.2074227584",M){case"1-bedroom":v.value="1 bedroom (1 or 2 adults)";break;case"2-bedroom":v.value="2 bedroom (1 or 2 adults PLUS 1 or more children under 18)";break;case"3-bedroom":v.value="3 bedroom (1 or 2 adults PLUS 2 or more children under 18)";break;default:v.value=M}i.appendChild(v)});let g=document.getElementById("hidden_iframe");g||(g=document.createElement("iframe"),g.id="hidden_iframe",g.name="hidden_iframe",g.style.display="none",document.body.appendChild(g)),document.body.appendChild(i),i.submit(),document.body.removeChild(i),setTimeout(()=>{f({title:"Thank you!",description:"You've been added to our mailing list"}),s(""),c([]),l(!1),o.current=!1},1e3)}catch{C("Email Signup","Submission Failed"),f({title:"Error",description:"Failed to submit. Please try again.",variant:"destructive"}),l(!1),o.current=!1}}},I=(n,i)=>{c(i?[...r,n]:r.filter(k=>k!==n))};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-100",children:[e.jsx(Z,{}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Apply for Membership"}),e.jsx("p",{className:"text-lg text-gray-600",children:"Join our cooperative housing community in Vancouver. We're a member-owned housing cooperative that provides affordable, sustainable housing while fostering community connections. Our residents participate in governance and share in maintaining our beautiful property together."})]}),e.jsx("div",{className:"space-y-8",children:e.jsxs(Q,{className:"bg-white shadow-lg",children:[e.jsxs(ee,{className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx(ie,{className:"h-12 w-12 text-orange-500"})}),e.jsx(te,{className:"text-2xl text-orange-600",children:"Applications Currently Closed"}),e.jsx(re,{className:"text-lg",children:"We don't currently have any available units. Applications typically open every 2 or 3 years."})]}),e.jsxs(se,{className:"space-y-6",children:[e.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2 text-center",children:"Get Notified"}),e.jsx("p",{className:"text-gray-600 mb-6 text-center",children:"Join our mailing list to be the first to know when applications open again"}),e.jsx(pe,{email:t,setEmail:s,bedroomPreferences:r,handleBedroomChange:I,handleEmailSubmit:N,isSubmitting:d,setFormStarted:x,trackFormStart:m})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Application Process"}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"w-12 h-12 bg-green-600 text-white rounded-full flex items-center justify-center text-xl font-bold mx-auto",children:"1"}),e.jsx("h4",{className:"font-semibold",children:"Subscribe"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Join our mailing list to get notified when units become available"})]}),e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"w-12 h-12 bg-green-600 text-white rounded-full flex items-center justify-center text-xl font-bold mx-auto",children:"2"}),e.jsx("h4",{className:"font-semibold",children:"Apply"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Submit your application when a suitable unit opens up"})]}),e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"w-12 h-12 bg-green-600 text-white rounded-full flex items-center justify-center text-xl font-bold mx-auto",children:"3"}),e.jsx("h4",{className:"font-semibold",children:"Interview"}),e.jsx("p",{className:"text-sm text-gray-600",children:"If selected, participate in our community interview process"})]}),e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"w-12 h-12 bg-green-600 text-white rounded-full flex items-center justify-center text-xl font-bold mx-auto",children:"4"}),e.jsx("h4",{className:"font-semibold",children:"Move In"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Welcome home! Join our thriving cooperative community"})]})]}),e.jsx("div",{className:"text-center mt-8",children:e.jsx(Y,{to:"/about",onClick:()=>h("About"),children:e.jsx(_,{variant:"outline",className:"text-green-600 border-green-600 hover:bg-green-50",children:"Learn More About Our Community"})})})]})]})]})})]})]})};export{Ne as default};

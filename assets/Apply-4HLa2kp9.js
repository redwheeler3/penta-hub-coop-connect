import{c as L,r as n,j as e,a as E,P as _,b as q,d as K,u as W,e as $,f as R,g as z,h as V,i as X,L as Y,B as F}from"./index-Cxjk__Jw.js";import{N as Q,C as Z,a as ee,b as te,c as se,d as re,u as ae,F as p}from"./Navigation-Cmrc9BEM.js";import{u as ne}from"./usePageTitle-D29svSj4.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=L("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=L("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=L("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),T=n.forwardRef(({className:t,type:r,...s},i)=>e.jsx("input",{type:r,className:E("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:i,...s}));T.displayName="Input";var le="Label",G=n.forwardRef((t,r)=>e.jsx(_.label,{...t,ref:r,onMouseDown:s=>{var l;s.target.closest("button, input, select, textarea")||((l=t.onMouseDown)==null||l.call(t,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));G.displayName=le;var U=G;const de=q("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),j=n.forwardRef(({className:t,...r},s)=>e.jsx(U,{ref:s,className:E(de(),t),...r}));j.displayName=U.displayName;function me(t){const r=n.useRef({value:t,previous:t});return n.useMemo(()=>(r.current.value!==t&&(r.current.previous=r.current.value,r.current.value=t),r.current.previous),[t])}var A="Checkbox",[ue,Ne]=K(A),[xe,he]=ue(A),D=n.forwardRef((t,r)=>{const{__scopeCheckbox:s,name:i,checked:l,defaultChecked:c,required:u,disabled:x,value:o="on",onCheckedChange:b,...P}=t,[d,k]=n.useState(null),I=W(r,a=>k(a)),v=n.useRef(!1),S=d?!!d.closest("form"):!0,[f=!1,C]=$({prop:l,defaultProp:c,onChange:b}),h=n.useRef(f);return n.useEffect(()=>{const a=d==null?void 0:d.form;if(a){const m=()=>C(h.current);return a.addEventListener("reset",m),()=>a.removeEventListener("reset",m)}},[d,C]),e.jsxs(xe,{scope:s,state:f,disabled:x,children:[e.jsx(_.button,{type:"button",role:"checkbox","aria-checked":g(f)?"mixed":f,"aria-required":u,"data-state":H(f),"data-disabled":x?"":void 0,disabled:x,value:o,...P,ref:I,onKeyDown:R(t.onKeyDown,a=>{a.key==="Enter"&&a.preventDefault()}),onClick:R(t.onClick,a=>{C(m=>g(m)?!0:!m),S&&(v.current=a.isPropagationStopped(),v.current||a.stopPropagation())})}),S&&e.jsx(fe,{control:d,bubbles:!v.current,name:i,value:o,checked:f,required:u,disabled:x,style:{transform:"translateX(-100%)"}})]})});D.displayName=A;var O="CheckboxIndicator",B=n.forwardRef((t,r)=>{const{__scopeCheckbox:s,forceMount:i,...l}=t,c=he(O,s);return e.jsx(z,{present:i||g(c.state)||c.state===!0,children:e.jsx(_.span,{"data-state":H(c.state),"data-disabled":c.disabled?"":void 0,...l,ref:r,style:{pointerEvents:"none",...t.style}})})});B.displayName=O;var fe=t=>{const{control:r,checked:s,bubbles:i=!0,...l}=t,c=n.useRef(null),u=me(s),x=V(r);return n.useEffect(()=>{const o=c.current,b=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(b,"checked").set;if(u!==s&&d){const k=new Event("click",{bubbles:i});o.indeterminate=g(s),d.call(o,g(s)?!1:s),o.dispatchEvent(k)}},[u,s,i]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:g(s)?!1:s,...l,tabIndex:-1,ref:c,style:{...t.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function g(t){return t==="indeterminate"}function H(t){return g(t)?"indeterminate":t?"checked":"unchecked"}var J=D,be=B;const w=n.forwardRef(({className:t,...r},s)=>e.jsx(J,{ref:s,className:E("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...r,children:e.jsx(be,{className:E("flex items-center justify-center text-current"),children:e.jsx(oe,{className:"h-4 w-4"})})}));w.displayName=J.displayName;const pe=({email:t,setEmail:r,bedroomPreferences:s,handleBedroomChange:i,handleEmailSubmit:l,isSubmitting:c,setFormStarted:u,trackFormStart:x})=>e.jsxs("form",{onSubmit:l,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(j,{htmlFor:"email",children:"Email Address"}),e.jsx(T,{id:"email",type:"email",value:t,onChange:o=>r(o.target.value),placeholder:"your.email@example.com",required:!0,onFocus:()=>{u(!0),x("Email Signup")}})]}),e.jsxs("div",{children:[e.jsx(j,{children:"Unit Preference"}),e.jsxs("div",{className:"space-y-2 mt-2",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(w,{id:"1-bedroom",checked:s.includes("1-bedroom"),onCheckedChange:o=>i("1-bedroom",o)}),e.jsx(j,{htmlFor:"1-bedroom",className:"font-normal",children:"1 bedroom - 1 or 2 adults"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(w,{id:"2-bedroom",checked:s.includes("2-bedroom"),onCheckedChange:o=>i("2-bedroom",o)}),e.jsx(j,{htmlFor:"2-bedroom",className:"font-normal",children:"2 bedroom - 1 or 2 adults PLUS 1 or more children under 18"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(w,{id:"3-bedroom",checked:s.includes("3-bedroom"),onCheckedChange:o=>i("3-bedroom",o)}),e.jsx(j,{htmlFor:"3-bedroom",className:"font-normal",children:"3 bedroom - 1 or 2 adults PLUS 2 or more children under 18"})]})]})]}),e.jsx("div",{className:"text-center pt-2",children:e.jsxs(F,{type:"submit",disabled:c,className:"bg-orange-500 hover:bg-orange-600 text-lg px-8 py-3",children:[e.jsx(ce,{className:"h-5 w-5 mr-2"}),c?"Subscribing...":"Subscribe for Updates"]})})]}),je=()=>{ne("Apply - Penta Housing Co-Op");const[t,r]=n.useState(""),[s,i]=n.useState([]),[l,c]=n.useState(!1),[u,x]=n.useState(!1),o=n.useRef(!1),{toast:b}=X(),{trackCTA:P,trackFormStart:d,trackFormSubmit:k,trackFormError:I,trackFormAbandonment:v,trackNavigation:S}=ae();n.useEffect(()=>{const h=()=>{u&&t&&!l&&v(p.MAILING_LIST_SIGNUP.name)};return window.addEventListener("beforeunload",h),()=>window.removeEventListener("beforeunload",h)},[u,t,l,v]);const f=async h=>{if(h.preventDefault(),!o.current){if(!t||s.length===0){b({title:"Missing Information",description:"Please fill in both email and bedroom preferences",variant:"destructive"}),I(p.MAILING_LIST_SIGNUP.name,"Missing Information");return}o.current=!0,c(!0);try{k(p.MAILING_LIST_SIGNUP.name);const a=document.createElement("form");a.action=p.MAILING_LIST_SIGNUP.submitUrl,a.method="POST",a.target="hidden_iframe",a.style.display="none";const m=document.createElement("input");m.name=p.MAILING_LIST_SIGNUP.fields.EMAIL_ADDRESS,m.value=t,a.appendChild(m),s.forEach(M=>{const N=document.createElement("input");switch(N.name=p.MAILING_LIST_SIGNUP.fields.UNIT_PREFERENCE,M){case"1-bedroom":N.value="1 bedroom (1 or 2 adults)";break;case"2-bedroom":N.value="2 bedroom (1 or 2 adults PLUS 1 or more children under 18)";break;case"3-bedroom":N.value="3 bedroom (1 or 2 adults PLUS 2 or more children under 18)";break;default:N.value=M}a.appendChild(N)});let y=document.getElementById("hidden_iframe");y||(y=document.createElement("iframe"),y.id="hidden_iframe",y.name="hidden_iframe",y.style.display="none",document.body.appendChild(y)),document.body.appendChild(a),a.submit(),document.body.removeChild(a),setTimeout(()=>{b({title:"Thank you!",description:"You've been added to our mailing list"}),r(""),i([]),c(!1),o.current=!1},1e3)}catch{I(p.MAILING_LIST_SIGNUP.name,"Submission Failed"),b({title:"Error",description:"Failed to submit. Please try again.",variant:"destructive"}),c(!1),o.current=!1}}},C=(h,a)=>{i(a?[...s,h]:s.filter(m=>m!==h))};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-100",children:[e.jsx(Q,{}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Apply for Membership"}),e.jsx("p",{className:"text-lg text-gray-600",children:"Join our cooperative housing community in Vancouver. We're a member-owned housing cooperative that provides affordable, sustainable housing while fostering community connections. Our residents participate in governance and share in maintaining our beautiful property together."})]}),e.jsx("div",{className:"space-y-8",children:e.jsxs(Z,{className:"bg-white shadow-lg",children:[e.jsxs(ee,{className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx(ie,{className:"h-12 w-12 text-orange-500"})}),e.jsx(te,{className:"text-2xl text-orange-600",children:"Applications Currently Closed"}),e.jsx(se,{className:"text-lg",children:"We don't currently have any available units. Applications typically open every 2 or 3 years."})]}),e.jsxs(re,{className:"space-y-6",children:[e.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2 text-center",children:"Get Notified"}),e.jsx("p",{className:"text-gray-600 mb-6 text-center",children:"Join our mailing list to be the first to know when applications open again"}),e.jsx(pe,{email:t,setEmail:r,bedroomPreferences:s,handleBedroomChange:C,handleEmailSubmit:f,isSubmitting:l,setFormStarted:x,trackFormStart:d})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Application Process"}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"w-12 h-12 bg-green-600 text-white rounded-full flex items-center justify-center text-xl font-bold mx-auto",children:"1"}),e.jsx("h4",{className:"font-semibold",children:"Subscribe"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Join our mailing list to get notified when units become available"})]}),e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"w-12 h-12 bg-green-600 text-white rounded-full flex items-center justify-center text-xl font-bold mx-auto",children:"2"}),e.jsx("h4",{className:"font-semibold",children:"Apply"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Submit your application when a suitable unit opens up"})]}),e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"w-12 h-12 bg-green-600 text-white rounded-full flex items-center justify-center text-xl font-bold mx-auto",children:"3"}),e.jsx("h4",{className:"font-semibold",children:"Interview"}),e.jsx("p",{className:"text-sm text-gray-600",children:"If selected, participate in our community interview process"})]}),e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"w-12 h-12 bg-green-600 text-white rounded-full flex items-center justify-center text-xl font-bold mx-auto",children:"4"}),e.jsx("h4",{className:"font-semibold",children:"Move In"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Welcome home! Join our thriving cooperative community"})]})]}),e.jsx("div",{className:"text-center mt-8",children:e.jsx(Y,{to:"/about",onClick:()=>S("About","Application Process Section"),children:e.jsx(F,{variant:"outline",className:"text-green-600 border-green-600 hover:bg-green-50",children:"Learn More About Our Community"})})})]})]})]})})]})]})};export{je as default};
